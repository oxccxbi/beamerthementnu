%
% Outer Theme, i.e. footline, headline etc
%
\ProvidesPackage{beamerouterthemeNTNUplain}[2021/2021/08/26 v1.2 A LaTeX beamer theme in the corporate design of NTNU]
\makeatletter

\setbeamerfont{footline}{size=\tiny}
\setlength{\footlineheight}{0.1\paperheight}

\defbeamertemplate*{footline}{NTNUplain}%
{%
	\leavevmode%
	\centering
	\hbox{
		\begin{beamercolorbox}[wd=.401\paperwidth,ht=\footlineheight,dp=0.4\footlineheight,left]{palette tertiary}%
			\hspace{3em}%
			\includegraphics[height=.6\footlineheight,width=.35\paperwidth,keepaspectratio]{\ntnu@logofile}%
		\end{beamercolorbox}\hspace{-.001\paperwidth}% overlap to prevent gaps
		\begin{beamercolorbox}[wd=.401\paperwidth,ht=\footlineheight,dp=0.4\footlineheight,right]{palette tertiary}%
			\hfill%
			\ifntnu@displayPartner%
				\includegraphics[height=.6\footlineheight,width=.35\paperwidth,keepaspectratio]{\ntnu@partnerfootlogo}%
			\fi%
		\end{beamercolorbox}\hspace{-.001\paperwidth}% overlap to prevent gaps
		\begin{beamercolorbox}[wd=.2\paperwidth,ht=\footlineheight,dp=0.4\footlineheight,right]{palette tertiary}%
            \hfill
            \usebeamercolor[fg]{page number in head/foot}%
    		\usebeamerfont{page number in head/foot}
			\insertframenumber{}%
			\ifntnu@displayTotalFrameNumber%
				\ /\ \inserttotalframenumber%
			\fi%
 			\hspace*{3em}%
 		\end{beamercolorbox}
 	}%
}
\renewcommand{\maketitle}[0]
{%
 	\setbeamertemplate{headline}[NTNU]%
 	\setbeamertemplate{footline}[NTNUempty]%
 	\ifbeamer@inframe%
 		\titlepage%
 	\else%
 		\frame[t]{\titlepage}%
 	\fi%
  	\setbeamertemplate{headline}[NTNU]%
	\setbeamertemplate{footline}[NTNUplain]%
}
\makeatother